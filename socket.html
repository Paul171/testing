<html>
  <head>
   <script src="/socket.io/socket.io.js"></script>

   <script>
   var socket = null;
   var resData= "";
   window.onload = function(){
    socket = io.connect();
   var date= document.querySelector('#date');
   socket.on('message',function(msg){ document.querySelector('#date').innerHTML=msg.message;});
 }
 // Function.prototype.validData = function validData(str){
 //    if(Number.isInteger())
 // }
 // var requestData = function validDate(resArr){

 // };
  function sendMessage(){
    var inputText = document.querySelector('#inputText');
    console.log("meesage", inputText);
    socket.emit('message',{'message': inputText.value});
  }
  function sendRequest(){
    var xmlhttp;
    if (window.XMLHttpRequest)
      {// code for IE7+, Firefox, Chrome, Opera, Safari
      xmlhttp=new XMLHttpRequest();
      }
    else
      {// code for IE6, IE5
      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
      }
      xmlhttp.onreadystatechange=function()
      {
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
          resData = JSON.parse(xmlhttp.responseText);
          document.getElementById("myDiv").innerHTML=document.getElementById("myDiv").innerHTML + "<br/>" + resData.response;
          
        }
      }

    xmlhttp.open("POST","http://localhost:8001",false);
    if(resData == ""){
      xmlhttp.send();
    }
    else{
      xmlhttp.send(JSON.stringify(resData));  
    }
    
    }
</script>
  </head>
  <body>
   <form method="post" action="/socket.html" onsubmit="return false;">
This is our socket.html file
  <div id="date"></div><br/>
  <label for="inputText">Input</label>
  <input type="text" id="inputText" name="inputText"/>
  <button onclick="sendMessage()">Send</button>
  <div id="myDiv"></div>
  <button onclick="sendRequest()">Render</button>
</form>
  </body>
</html>
